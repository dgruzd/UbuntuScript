document.write('<link rel="stylesheet" href="https://gist.github.com/stylesheets/gist/embed.css"/>')

document.write('<div id=\"gist-162448\" class=\"gist\">\n\n        <div class=\"gist-file\">\n          <div class=\"gist-data gist-syntax\">\n              <div class=\"gist-highlight\"><pre><div class=\'line\' id=\'LC1\'><span class=\"c1\">##<\/span><\/div><div class=\'line\' id=\'LC2\'><span class=\"c1\"># Returns the command that will check out +revision+ from the<\/span><\/div><div class=\'line\' id=\'LC3\'><span class=\"c1\"># repository into directory +destination+.  +revision+ can be any<\/span><\/div><div class=\'line\' id=\'LC4\'><span class=\"c1\"># SHA1 or equivalent (e.g. branch, tag, etc...)<\/span><\/div><div class=\'line\' id=\'LC5\'><br/><\/div><div class=\'line\' id=\'LC6\'><span class=\"k\">def<\/span> <span class=\"nf\">checkout<\/span><span class=\"p\">(<\/span><span class=\"n\">revision<\/span><span class=\"p\">,<\/span> <span class=\"n\">destination<\/span><span class=\"p\">)<\/span><\/div><div class=\'line\' id=\'LC7\'>&nbsp;&nbsp;<span class=\"n\">destination<\/span> <span class=\"o\">=<\/span> <span class=\"no\">File<\/span><span class=\"o\">.<\/span><span class=\"n\">join<\/span><span class=\"p\">(<\/span><span class=\"n\">destination<\/span><span class=\"p\">,<\/span> <span class=\"s1\">&#39;repo&#39;<\/span><span class=\"p\">)<\/span><\/div><div class=\'line\' id=\'LC8\'>&nbsp;&nbsp;<span class=\"n\">revision<\/span> <span class=\"o\">=<\/span> <span class=\"s1\">&#39;HEAD&#39;<\/span> <span class=\"k\">if<\/span> <span class=\"n\">revision<\/span> <span class=\"o\">=~<\/span> <span class=\"sr\">/head/i<\/span><\/div><div class=\'line\' id=\'LC9\'><br/><\/div><div class=\'line\' id=\'LC10\'>&nbsp;&nbsp;<span class=\"o\">[<\/span> <span class=\"s2\">&quot;rm -rf <\/span><span class=\"si\">#{<\/span><span class=\"n\">destination<\/span><span class=\"si\">}<\/span><span class=\"s2\">&quot;<\/span><span class=\"p\">,<\/span><\/div><div class=\'line\' id=\'LC11\'>&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"s2\">&quot;<\/span><span class=\"si\">#{<\/span><span class=\"n\">git_cmd<\/span><span class=\"si\">}<\/span><span class=\"s2\"> clone <\/span><span class=\"si\">#{<\/span><span class=\"n\">repository<\/span><span class=\"si\">}<\/span><span class=\"s2\"> <\/span><span class=\"si\">#{<\/span><span class=\"n\">destination<\/span><span class=\"si\">}<\/span><span class=\"s2\">&quot;<\/span><span class=\"p\">,<\/span><\/div><div class=\'line\' id=\'LC12\'>&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"s2\">&quot;cd <\/span><span class=\"si\">#{<\/span><span class=\"n\">destination<\/span><span class=\"si\">}<\/span><span class=\"s2\">&quot;<\/span><span class=\"p\">,<\/span><\/div><div class=\'line\' id=\'LC13\'>&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"s2\">&quot;<\/span><span class=\"si\">#{<\/span><span class=\"n\">git_cmd<\/span><span class=\"si\">}<\/span><span class=\"s2\"> checkout -f -b deployed-<\/span><span class=\"si\">#{<\/span><span class=\"n\">revision<\/span><span class=\"si\">}<\/span><span class=\"s2\"> <\/span><span class=\"si\">#{<\/span><span class=\"n\">revision<\/span><span class=\"si\">}<\/span><span class=\"s2\">&quot;<\/span><span class=\"p\">,<\/span><\/div><div class=\'line\' id=\'LC14\'>&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"s2\">&quot;cd -&quot;<\/span><\/div><div class=\'line\' id=\'LC15\'>&nbsp;&nbsp;<span class=\"o\">].<\/span><span class=\"n\">join<\/span><span class=\"p\">(<\/span><span class=\"s2\">&quot; &amp;&amp; &quot;<\/span><span class=\"p\">)<\/span><\/div><div class=\'line\' id=\'LC16\'><span class=\"k\">end<\/span><\/div><div class=\'line\' id=\'LC17\'><br/><\/div><\/pre><\/div>\n          <\/div>\n\n          <div class=\"gist-meta\">\n            <a href=\"https://gist.github.com/raw/162448/637d44ca408dde974da02ba6e693e73895d486ea/git.rb\" style=\"float:right;\">view raw<\/a>\n            <a href=\"https://gist.github.com/162448#file_git.rb\" style=\"float:right;margin-right:10px;color:#666\">git.rb<\/a>\n            <a href=\"https://gist.github.com/162448\">This Gist<\/a> brought to you by <a href=\"http://github.com\">GitHub<\/a>.\n          <\/div>\n        <\/div>\n<\/div>\n')
